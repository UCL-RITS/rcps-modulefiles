#%Module -*- tcl -*-
##
## modulefile
##
## Cuba 4.2 compiled using GCC 4.9.2
##
## Updated July 2018 to downgrade the version of Mathematica Cuba will work with to 11.0.1

proc ModulesHelp { } {
    puts stderr "Adds the Cuba Numerical Integration Package Version 4.2 compiled using GCC 4.9.2"
    puts stderr "to your environment."
    puts stderr ""
    puts stderr "Cuba offers a choice of four independent routines for multidimensional numerical"
    puts stderr "integration: Vegas, Suave, Divonne, and Cuhre. C/C++, Fortran, and Mathematica"
    puts stderr "interfaces are provided. Cuba has been installed primarily for use with Mathematica"
    puts stderr "11.0.1. This is the latest version we have installed that Cuba will work with."
    puts stderr ""
    puts stderr "Directory: /shared/ucl/apps/Cuba/4.2_gnu-4.9.2_Math-11.0.1"
}

module-whatis "adds Cuba Numerical Integration Package Version 4.2 to your environment."

conflict cuba
prereq gcc-libs/4.9.2
prereq compilers/gnu/4.9.2
prereq bison/3.0.4/gnu-4.9.2
prereq gperf/3.0.4/gnu-4.9.2
prereq qt/5.4.2/gnu-4.9.2
prereq xorg-utils/X11R7.7
prereq mathematica/11.0.1


set              prefix               /shared/ucl/apps/Cuba/4.2_gnu-4.9.2_Math-11.0.1


if { [file isdirectory $prefix/bin] } then {
  prepend-path      PATH                 $prefix/bin
}

if { [file isdirectory $prefix/man] } then {
  prepend-path      MANPATH              $prefix/man
}

if { [file isdirectory $prefix/share/man] } then {
  prepend-path      MANPATH              $prefix/share/man
}

if { [file isdirectory $prefix/lib] } then {
  prepend-path      LIBRARY_PATH         $prefix/lib
  prepend-path      LD_LIBRARY_PATH      $prefix/lib
}

if { [file isdirectory $prefix/lib64] } then {
  prepend-path      LIBRARY_PATH         $prefix/lib64
  prepend-path      LD_LIBRARY_PATH      $prefix/lib64
}

if { [file isdirectory $prefix/lib/pkgconfig] } then {
  prepend-path      PKG_CONFIG_PATH      $prefix/lib/pkgconfig
}

if { [file isdirectory $prefix/include] } then {
  prepend-path      CPATH                $prefix/include
  prepend-path      INCLUDE_PATH         $prefix/include
}
prepend-path CMAKE_PREFIX_PATH  $prefix
